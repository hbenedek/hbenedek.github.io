title:  "Quotes'N'Movies updated"
layout: post
---

<style TYPE="text/css">
code.has-jax {font: inherit; font-size: 200%; background: inherit; border: inherit;}
</style>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
         chtml: {
            scale: 1.3
        },
        svg: {
            scale: 1.3
        },
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'] // removed 'code' entry
    }
});
MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_HTML-full"></script>
   


This data story was made as part of the course [CS-401 Applied Data Analysis](https://dlab.epfl.ch/teaching/fall2021/cs401/) at EPFL (fall 2021). 
We investigated the correlation between quotes about movies made by people in news articles, IMDB rating and movie box office revenue. We would like to acredit the authors of [Quotebank](https://dlab.epfl.ch/people/west/pub/Vaucher-Spitz-Catasta-West_WSDM-21.pdf), the [IMDb data set](https://www.kaggle.com/stefanoleone992/imdb-extensive-dataset?select=IMDb+ratings.csv), [Box Office Mojo](https://www.boxofficemojo.com/daily/) and [WikiData](https://www.wikidata.org/wiki/Wikidata:Main_Page).
    
This markdown file contains a summary of our analysis of the quotes and movies. If you are interested in the preprocessing, sentiment analysis and our full report, feel free to check out the project on <a href="https://github.com/hbenedek/ada-2021-project-f-jab">Github</a> and read the <a href="https://albertkjoller.github.io/QuotesNMovies/">data story</a>.
    
### Created by Albert Kj√∏ller Jacobsen, Benedek Harsanyi, Felix Borum Burmester & Julian Schnitzler

TODO:
- fix latex parts
- write introduction on the project
- fix plots and notebook outputs
- fix dataframe outputs

---

# Table of Contents
* [RQ1: Relation between Box Office sales and number of quotes of a movie](#chapter1) 
    * [1.1. Linear regression between total number of quotes on a movie and domestic box office revenue](#chapter11)
    * [1.2. Observational study with propensity score matching](#chapter12)
* [RQ2: An Investigation into Time Series Box Office and Quotes in a Few Movies](#chapter2)
    * [2.1. Visualization and Kolmogorov-Smirnov test](#chapter21)
    * [2.2. Checking correlation and Granger causality](#chapter22)
* [RQ3: Sentiment analysis in quotes about movies over time](#chapter3)
    * [3.1 Sentiment and Box Office](#chapter31)
    * [3.2. Sentiment and IMDb - (WIP)](#chapter32)
* [RQ4: Searching for a bias in the data](#chapter4)
    * [4.1. Are quotes in Quotebank regarding movies biased?](#chapter41)
    * [4.2. Bias in Internet Movie Database ratings ](#chapter42)
* [RQ5: The effect of COVID on media coverage of movies](#chapter5)
    * [5.1. Calculate mean number of quotes on movies between 2015-2019 on a daily basis, calculate confidence intervals (bootstrapping), compare with 2020 data](#chapter51)
    * [5.2. Use regression for comparison of the mean number of quotes across movies in covid and non-covid period, use t-test for comparison of means](#chapter52)

  
Quotebank is a dataset of 235 million unique, speaker-attributed quotations that were extracted from 196 million English news articles. 
We wanted to investigate the quotes made on movies and wheter they have some casual effect or correlation with the imdb scores or box office revenues. 
First we used the IMDb dataset to gather 275 relevant movies made in the USA.
Second, we filtered the Quotebank dataset between 2015-2020. We iterated through all the quotes and counted how many quotes contained the title or the subtitle of a given movie. Here are the winners
  
1. Star Wars: Episode VIII - The Last Jedi, 9402
2. Star Wars: Episode IX - The Rise of Skywalker, 9197
3. Avengers: Endgame, 7692
4. Thor: Ragnarok, 7537
5. Star Wars: Episode VII - The Force Awakens, 6837
6. Avengers: Infinity War, 6215
  
<center>
<img src="../images/2022-01-09-quotes/output_18_0.png" />
</center>
  
  
